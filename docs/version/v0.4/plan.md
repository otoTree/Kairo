 # v0.4 版本规划（Device & HAL）
 
 ## 目标
 - 设备生命周期与权限闭环落地
 - 统一设备访问的流式接口
 
 ## 交付范围
 - device.claim/release 与并发策略
 - device.read/write/stream 的最小实现
 - 设备权限与审计事件联动
 
 ## 验收标准
 - 多进程争用同设备有明确失败语义
 - 设备断开与重连具备恢复策略
 - 所有设备访问产生可追踪事件

## 纵向切片（E2E）
- 设备发现与 claim 后建立数据流并完成一次任务
- 断开与恢复过程具备可回放事件链

## 关键场景
- 两个技能争用同一串口时具备显式拒绝
- 设备断开后任务被标记为失败或可恢复
- 设备数据流可被事件化并关联到意图

## 非目标
- 全量设备类型矩阵与驱动生态
- 高级设备权限交互界面
- 跨主机设备编排
 
 ## Todo
 - 实现 device.claim 与 device.release
 - 实现 device.stream 与读写接口
 - 完成设备权限到沙箱策略映射
 - 建立设备热插拔恢复机制
